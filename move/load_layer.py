import os
import csv
from django.contrib.gis.utils import LayerMapping
from django.contrib.gis.geos import Point
from .models import Point_vente

point_mapping = {
    'p1': 'P1',
    'p2': 'P2',
    'p3': 'P3',
    'p4': 'P4',
    'p5': 'P5',
    'p6': 'P6',
    'p7': 'P7',
    'p8': 'P8',
    'p9': 'P9',
    'p10': 'P10',
    'p11': 'P11',
    'p12': 'P12',
    'p13': 'P13',
    'p14': 'P14',
    'p15': 'P15',
    'p16': 'P16',
    'p17': 'P17',
    'p18': 'P18',
    'p19': 'P19',
    'p20': 'P20',
    'p21': 'P21',
    'p22': 'P22',
    'p23': 'P23',
    'p24': 'P24',
    'p25': 'P25',
    'p26': 'P26',
    'p27': 'P27',
    'p28': 'P28',
    'p29': 'P29',
    'p30': 'P30',
    'p31': 'P31',
    'p32': 'P32',
    'p33': 'P33',
    'p34': 'P34',
    'p35': 'P35',
    'p36': 'P36',
    'p37': 'P37',
    'p38': 'P38',
    'p39': 'P39',
    'p40': 'P40',
    'p41': 'P41',
    'p42': 'P42',
    'p43': 'P43',
    'p44': 'P44',
    'p45': 'P45',
    'p46': 'P46',
    'p47': 'P47',
    'p48': 'P48',
    'p49': 'P49',
    'p50': 'P50',
    'p51': 'P51',
    'p52': 'P52',
    'p53': 'P53',
    'p54': 'P54',
    'p55': 'P55',
    'p56': 'P56',
    'p57': 'P57',
    'p58': 'P58',
    'p59': 'P59',
    'p60': 'P60',
    'p61': 'P61',
    'p62': 'P62',
    'p63': 'P63',
    'p64': 'P64',
    'p65': 'P65',
    'p66': 'P66',
    'p67': 'P67',
    'p68': 'P68',
    'p69': 'P69',
    'p70': 'P70',
    'p71': 'P71',
    'p72': 'P72',
    'p73': 'P73',
    'p74': 'P74',
    'p75': 'P75',
    'p76': 'P76',
    'p77': 'P77',
    'p78': 'P78',
    'p79': 'P79',
    'p80': 'P80',
    'p81': 'P81',
    'p82': 'P82',
    'p83': 'P83',
    'p84': 'P84',
    'p85': 'P85',
    'p86': 'P86',
    'p87': 'P87',
    'p88': 'P88',
    'p89': 'P89',
    'p90': 'P90',
    'p91': 'P91',
    'p92': 'P92',
    'p93': 'P93',
    'p94': 'P94',
    'p95': 'P95',
    'p96': 'P96',
    'p97': 'P97',
    'p98': 'P98',
    'p99': 'P99',
    'p100': 'P100',
    'p101': 'P101',
    'p102': 'P102',
    'p103': 'P103',
    'geom': 'POINT',
}

point_shp = os.path.abspath(os.path.join(os.path.dirname(__file__),'data/point_vente.shp'))

def runPoint(verbose=True):
    lm = LayerMapping(Point_vente, point_shp, point_mapping, transform=False, encoding='UTF-8')
    lm.save(strict=True, verbose=verbose)
